(this["webpackJsonpincora-react"]=this["webpackJsonpincora-react"]||[]).push([[0],{40:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),a=s.n(n),r=s(33),i=s.n(r),o=(s(40),s(5)),l=s(12),u=s(2),j=s(6),d=s.n(j),b=s(13),p=s(3),h=s.n(p),x=s(10);var O=function(e){var t=e.currentUser,s=e.setCurrentUser,n=a.a.useState(""),r=Object(o.a)(n,2),i=r[0],l=r[1],j=a.a.useState(void 0),p=Object(o.a)(j,2),O=p[0],v=p[1];return a.a.useEffect(Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()("https://jsonplaceholder.typicode.com/users");case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),"success"===t.status?Object(c.jsx)(u.a,{to:"/articles"}):Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"login-form",children:Object(c.jsxs)("div",{className:"login-form__content",children:[Object(c.jsx)("p",{children:"Please paste your email"}),Object(c.jsx)("input",{type:"text",value:i,onChange:function(e){l(e.target.value)}}),Object(c.jsx)("button",{className:"btn-log",onClick:function(){var e=!1;O.forEach(function(){var t=Object(x.a)(h.a.mark((function t(c){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c.email===i&&(e=!0,s(Object(b.a)(Object(b.a)({},c),{},{status:"success"})))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e||s({status:"fail",message:"Cant get current user!"})},children:"Login"}),"fail"===t.status?Object(c.jsx)("p",{children:t.message}):null]})})})},v=s(18),f=s(23);var m=function(e){var t=e.currentUser,s=a.a.useState([]),n=Object(o.a)(s,2),r=n[0],i=n[1],j=a.a.useState(void 0),p=Object(o.a)(j,2),O=p[0],m=p[1],g=a.a.useState({}),k=Object(o.a)(g,2),w=k[0],y=k[1],N=a.a.useState(void 0),_=Object(o.a)(N,2),C=_[0],S=_[1];a.a.useEffect(Object(x.a)(h.a.mark((function e(){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status&&void 0===t.status){e.next=5;break}return e.next=3,d()("https://jsonplaceholder.typicode.com/posts?userId=".concat(t.id));case 3:s=e.sent,i(s.data);case 5:case"end":return e.stop()}}),e)}))),[]);var U=function(){var e=Object(x.a)(h.a.mark((function e(t){var s,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r[t].id,c=(c=Object(f.a)(r)).filter((function(e,s){return s!==t})),i(c),e.next=6,d.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(s));case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){y(Object(b.a)(Object(b.a)({},w),{},Object(v.a)({},t,e.target.value)))},P=function(){var e=Object(x.a)(h.a.mark((function e(){var s,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=Object(b.a)({},w)).userId=t.id,s.id=r.length,(c=Object(f.a)(r)).push(s),i(c),e.next=9,d.a.post("https://jsonplaceholder.typicode.com/posts",s);case 9:n=e.sent,console.log(n),201===n.status?S("Succesfully added work!"):S("Check dev tools to view status code"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return void 0===O?Object(c.jsxs)("div",{className:"user-all-posts",children:[Object(c.jsx)("h1",{children:"List of posts"}),Object(c.jsx)("ol",{children:0!==r.length?Object(c.jsxs)("div",{children:[r.map((function(e,t){return Object(c.jsxs)("li",{children:[e.title,Object(c.jsx)("small",{className:"view",onClick:function(){return function(e){m("/articles/".concat(e.id))}(e)},children:"get details"}),Object(c.jsx)("small",{className:"edit",onClick:function(){return function(e){m("/articles/".concat(e.id,"/edit"))}(e)},children:"edit"}),Object(c.jsx)("small",{className:"delete",onClick:function(){return U(t)},children:"delete"})]},t)})),Object(c.jsxs)("div",{className:"user-all-posts__add",children:[Object(c.jsx)("h4",{children:"Add new article!"}),Object(c.jsxs)("div",{className:"user-all-posts__add--inp",children:[Object(c.jsx)("p",{children:"Title"}),Object(c.jsx)("textarea",{value:w.title,onChange:function(e){return E(e,"title")}})]}),Object(c.jsxs)("div",{className:"user-all-posts__add--inp",children:[Object(c.jsx)("p",{children:"Body"}),Object(c.jsx)("textarea",{value:w.body,onChange:function(e){return E(e,"body")}})]}),Object(c.jsx)("button",{className:"user-all-posts__add--sub",onClick:function(){return P()},children:"Add new article"}),C&&Object(c.jsx)("p",{children:C})]})]}):Object(c.jsx)("div",{className:"login-in",children:Object(c.jsx)(l.b,{to:"/",children:"Please first login in"})})})]}):Object(c.jsx)(u.a,{to:O})};var g=function(e){var t=e.currentUser,s=Object(u.g)().id,n=a.a.useState({}),r=Object(o.a)(n,2),i=r[0],j=r[1];return a.a.useEffect(Object(x.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status&&void 0===t.status){e.next=5;break}return e.next=3,d()("https://jsonplaceholder.typicode.com/posts/".concat(s));case 3:c=e.sent,j(c.data);case 5:case"end":return e.stop()}}),e)}))),[]),Object(c.jsxs)("div",{className:"user-single-post",children:[Object(c.jsxs)("h1",{children:["Post number: ",i.id]}),"fail"===t.status||void 0===t.status?Object(c.jsx)("div",{className:"login-in",children:Object(c.jsx)(l.b,{to:"/",children:"Please first login in"})}):Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Title:"})," ",i.title,Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:"Body: "}),i.body]})]})};var k=function(e){var t=e.currentUser,s=Object(u.g)().id,n=a.a.useState({}),r=Object(o.a)(n,2),i=r[0],j=r[1],p=a.a.useState(void 0),O=Object(o.a)(p,2),v=O[0],f=O[1];a.a.useEffect(Object(x.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==t.status&&void 0===t.status){e.next=5;break}return e.next=3,d()("https://jsonplaceholder.typicode.com/posts/".concat(s));case 3:c=e.sent,j(c.data);case 5:case"end":return e.stop()}}),e)}))),[]);var m=function(e,t){var s=Object(b.a)({},i);s[t]=e.target.value,j(s)},g=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("https://jsonplaceholder.typicode.com/posts/".concat(s),i);case 3:t=e.sent,console.log(t),200===t.status?f("Success edited!"):f("Check dev tools to view status code"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),f("Something goes wrong!"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"user-single-post",children:[Object(c.jsxs)("h1",{children:["Post number: ",i.id]}),"fail"===t.status||void 0===t.status?Object(c.jsx)("div",{className:"login-in",children:Object(c.jsx)(l.b,{to:"/",children:"Please first login in"})}):Object(c.jsxs)("div",{className:"user-single-post__edit",children:[Object(c.jsxs)("div",{className:"user-single-post__edit--inp",children:[Object(c.jsx)("p",{children:"Title"}),Object(c.jsx)("textarea",{value:i.title,onChange:function(e){return m(e,"title")}})]}),Object(c.jsxs)("div",{className:"user-single-post__edit--inp",children:[Object(c.jsx)("p",{children:"Body"}),Object(c.jsx)("textarea",{value:i.body,onChange:function(e){return m(e,"body")}})]}),Object(c.jsx)("button",{className:"user-single-post__edit--sub",onClick:g,children:"Save"}),v&&Object(c.jsx)("p",{children:v})]})]})};var w=function(){var e=a.a.useState({}),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/",exact:!0,children:Object(c.jsx)(O,{currentUser:s,setCurrentUser:n})}),Object(c.jsx)(u.b,{path:"/articles",exact:!0,children:Object(c.jsx)(m,{currentUser:s})}),Object(c.jsx)(u.b,{path:"/articles/:id",exact:!0,children:Object(c.jsx)(g,{currentUser:s})}),Object(c.jsx)(u.b,{path:"/articles/:id/edit",exact:!0,children:Object(c.jsx)(k,{currentUser:s})})]})})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.52d0928e.chunk.js.map